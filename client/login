const handlelogin = (e) => {
    e.preventDefault();

    console.log(email,password)
      const authRes = authenticate(email,password)
      if(authRes){
        login(email)
        console.log("Login success", authRes )
        navigate('/vote')
      }
   else{
      console.log('Login error: Not valid',);
      seterror(true);
    }
  };

//   const authenticate = (roll, psw) => {
//     return !!data.find(user => user.roll == roll && user.psw == psw);
// }
const authenticate = (roll, psw) => {
  const foundUser = data.find(user => user.roll.toString() === roll && user.psw.toString() === psw);
  console.log("founduser",foundUser)
  console.log("roll pass", roll, psw)
  console.log("datataa",data)
  
  if (foundUser) {
    login(foundUser)
    return {
      
      user: foundUser, // Include the entire user object
    };
  } else {
    login(null)
    return {
      user:null
    };
  }
};